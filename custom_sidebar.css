/* ========================================================================
   Final Touch – Linear Sharp Hybrid Edition
   Style: Linear 7 : Notion 3  （AI SaaS向け）
   Font Rendering: Hybrid（Crisp 7 : Smooth 3）
   Accent Color: #4BA3FF
   Scope: Sidebar Only（干渉なし）
   ======================================================================== */

/* Font smoothing for Hybrid crisp-smooth rendering */
html, body, [data-testid="stSidebar"] * {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* --- Sidebar Base Layout --- */
[data-testid="stSidebar"] {
    padding: 1rem 0.9rem !important;
    width: 250px !important; /* Tightened for cleaner UI */
    background-color: transparent !important;
}

[data-testid="stSidebar"] * {
    font-size: 0.92rem !important;
    font-weight: 430 !important;
    letter-spacing: 0.1px;
    color: #E8E8E8 !important;
}

/* --- Headers (subtle but crisp) --- */
[data-testid="stSidebar"] h1,
[data-testid="stSidebar"] h2,
[data-testid="stSidebar"] h3 {
    font-weight: 600 !important;
    margin-top: 0.55rem !important;
    margin-bottom: 0.3rem !important;
    color: #F4F4F4 !important;
}

/* --- Expander: Linear Sharp Minimal Card --- */
div[data-testid="stSidebar"] details {
    background: rgba(255, 255, 255, 0.015) !important;
    border-radius: 7px !important;
    border: 1px solid rgba(255, 255, 255, 0.04) !important;
    padding: 1px 6px !important;
    margin-bottom: 6px !important;
    backdrop-filter: blur(2px);
    transition: border-color 0.15s ease-in-out;
}

div[data-testid="stSidebar"] details:hover {
    border-color: rgba(255, 255, 255, 0.08) !important;
}

div[data-testid="stSidebar"] summary {
    padding: 6px 2px !important;
    margin-left: -2px !important;
    font-weight: 600 !important;
    color: #F1F1F1 !important;
    display: flex;
    align-items: center;
    gap: 4px;
}

/* --- Ultra Minimal Divider (3% opacity) --- */
div[data-testid="stSidebar"] hr {
    border: none !important;
    border-top: 1px solid rgba(255, 255, 255, 0.03) !important;
    margin: 0.35rem 0 !important;
}

/* --- Form elements --- */
div[data-testid="stSidebar"] label {
    margin-bottom: 0.1rem !important;
    color: #E5E5E5 !important;
}

input[type="checkbox"]:checked {
    accent-color: #4BA3FF !important;
}

/* Selectbox spacing optimization */
div[data-baseweb="select"] {
    margin-bottom: 0.35rem !important;
}

/* --- Buttons --- */
div[data-testid="stSidebar"] button {
    border-radius: 5px !important;
    padding: 0.34rem 0.55rem !important;
    font-size: 0.9rem !important;
    font-weight: 600 !important;
    transition: 0.16s ease-in-out !important;
}

/* Primary button – Save */
div[data-testid="stSidebar"] button[kind="primary"] {
    background-color: #4BA3FF !important;
    border: none !important;
    color: #ffffff !important;
    box-shadow: none !important;
}
div[data-testid="stSidebar"] button[kind="primary"]:hover {
    background-color: #62AEFF !important;
}

/* Secondary & Ghost buttons */
div[data-testid="stSidebar"] button:not([kind="primary"]) {
    background-color: transparent !important;
    border: 1px solid rgba(255, 255, 255, 0.06) !important;
    color: #DCDCDC !important;
}
div[data-testid="stSidebar"] button:not([kind="primary"]):hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
    color: #FFFFFF !important;
    border-color: rgba(255, 255, 255, 0.12) !important;
}

/* --- Spacing rhythm (clean, sharp) --- */
[data-testid="stSidebar"] .element-container {
    margin-bottom: 0.38rem !important;
}
